{"ast":null,"code":"import _slicedToArray from\"C:/Users/mehr0/Documents/Dev/simpleforum/hwryeol_simpleforum/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import styles from\"./Header.module.css\";import{Link}from\"react-router-dom\";import{useEffect,useState,useRef}from\"react\";import{CgProfile}from\"react-icons/cg\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function Header(_ref){var isLogined=_ref.isLogined,setIsLogined=_ref.setIsLogined,isLoading=_ref.isLoading,getUserData=_ref.getUserData,userData=_ref.userData,setUserData=_ref.setUserData;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isBtnClick=_useState2[0],setIsBtnClick=_useState2[1];var el=useRef();function logOut(){if(window.confirm(\"로그아웃 하겠습니까?\")){fetch('/logout',{method:\"POST\",headers:{withCredentials:true}}).then(function(res){setIsLogined(false);});}}useEffect(function(){getUserData();},[]);useEffect(function(){var dropDownMenuHandler=function dropDownMenuHandler(e){if(isBtnClick&&!el.current.contains(e.target))setIsBtnClick(false);};window.addEventListener('click',dropDownMenuHandler);return function(){return window.removeEventListener(\"click\",dropDownMenuHandler);};},[isBtnClick]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:styles.header,children:[/*#__PURE__*/_jsx(Link,{className:styles.header_title,to:\"/\",children:\"\\uAC8C\\uC2DC\\uD310\"}),isLogined?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(CgProfile,{className:styles.userDropMenuBtn,onClick:function onClick(){return setIsBtnClick(true);}}),/*#__PURE__*/_jsxs(\"div\",{ref:el,className:[!isBtnClick&&styles.hidden,styles.header_login_links,styles.col].join(\" \"),children:[/*#__PURE__*/_jsx(\"div\",{className:styles.message,children:userData.nickname}),/*#__PURE__*/_jsx(Link,{className:\"\".concat(styles.header_link,\" \").concat(styles.profile),to:\"/profile\",children:\"\\uB2C9\\uB124\\uC784 \\uBCC0\\uACBD\"}),/*#__PURE__*/_jsx(\"button\",{className:styles.logout_btn,onClick:logOut,children:\"\\uB85C\\uADF8\\uC544\\uC6C3\"})]})]}):/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:styles.header_logout_links,children:[/*#__PURE__*/_jsx(Link,{className:styles.loginBtn,to:\"/login\",children:\"\\uB85C\\uADF8\\uC778\"}),/*#__PURE__*/_jsx(Link,{className:styles.signupBtn,to:\"/signup\",children:\"\\uD68C\\uC6D0\\uAC00\\uC785\"})]})})]}),/*#__PURE__*/_jsx(\"div\",{className:styles.header_bar})]});}export default Header;","map":{"version":3,"sources":["C:/Users/mehr0/Documents/Dev/simpleforum/hwryeol_simpleforum/src/Header.js"],"names":["styles","Link","useEffect","useState","useRef","CgProfile","Header","isLogined","setIsLogined","isLoading","getUserData","userData","setUserData","isBtnClick","setIsBtnClick","el","logOut","window","confirm","fetch","method","headers","withCredentials","then","res","dropDownMenuHandler","e","current","contains","target","addEventListener","removeEventListener","header","header_title","userDropMenuBtn","hidden","header_login_links","col","join","message","nickname","header_link","profile","logout_btn","header_logout_links","loginBtn","signupBtn","header_bar"],"mappings":"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","sourcesContent":["import styles from \"./Header.module.css\";\r\nimport {Link} from \"react-router-dom\";\r\nimport { useEffect, useState, useRef } from \"react\";\r\nimport { CgProfile } from \"react-icons/cg\";\r\n\r\n\r\nfunction Header({isLogined,setIsLogined, isLoading,getUserData,userData,setUserData}){\r\n    const [isBtnClick,setIsBtnClick] = useState(false);\r\n    const el = useRef();\r\n\r\n    function logOut(){\r\n    if(window.confirm(\"로그아웃 하겠습니까?\")){\r\n      fetch('/logout',{\r\n          method:\"POST\",\r\n          headers:{\r\n            withCredentials:true\r\n          }\r\n        }).then( res => {\r\n          setIsLogined(false);\r\n        })\r\n    }\r\n    }\r\n    \r\n  useEffect(()=>{\r\n      getUserData();\r\n  },[])\r\n  \r\n  useEffect(()=>{\r\n    const dropDownMenuHandler = (e) => {\r\n      if(isBtnClick && !el.current.contains(e.target)) setIsBtnClick(false);\r\n    }\r\n    window.addEventListener('click',dropDownMenuHandler);\r\n    return () => window.removeEventListener(\"click\",dropDownMenuHandler);\r\n  },[isBtnClick])\r\n\r\n\r\n    return <><div className={styles.header}>\r\n      <Link className={styles.header_title} to=\"/\">게시판</Link>\r\n      {isLogined?\r\n        <>\r\n        <CgProfile className={styles.userDropMenuBtn} onClick={()=>setIsBtnClick(true)}/>\r\n        <div ref={el} className={[!isBtnClick&&styles.hidden,styles.header_login_links,styles.col].join(\" \")}>\r\n          <div className={styles.message}>{userData.nickname}</div>\r\n          <Link className={`${styles.header_link} ${styles.profile}`} to=\"/profile\">닉네임 변경</Link>\r\n          <button className={styles.logout_btn} onClick={logOut}>로그아웃</button>\r\n                 \r\n        </div>\r\n        </>:<>\r\n        <div className={styles.header_logout_links}>\r\n          <Link className={styles.loginBtn} to=\"/login\">로그인</Link>\r\n          <Link className={styles.signupBtn} to=\"/signup\">회원가입</Link>\r\n        </div>\r\n        </>\r\n        \r\n      }\r\n    </div>\r\n    <div className={styles.header_bar}></div>\r\n    </>\r\n    \r\n}\r\nexport default Header;"]},"metadata":{},"sourceType":"module"}