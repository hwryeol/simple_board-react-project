{"ast":null,"code":"import _objectSpread from\"C:/Users/mehr0/Documents/Dev/simpleforum/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"C:/Users/mehr0/Documents/Dev/simpleforum/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import Login from'./Login';import Home from'./Home';import Detail from'./Detail';import Profile from'./Profile';import Signup from'./Signup';import Header from'./Header';import PostCreate from'./PostCreate';import{Route,Routes,BrowserRouter}from'react-router-dom';import{useEffect,useState}from\"react\";import LoadingIcons from'react-loading-icons';import styles from\"./App.module.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isLogined=_useState2[0],setIsLogined=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),isLoading=_useState4[0],setIsLoading=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),userData=_useState6[0],setUserData=_useState6[1];function getUserData(){fetch('/profile',{method:\"get\",headers:{withCredentials:true}}).then(function(res){if(res.status===401){setIsLogined(false);}else{res.json().then(function(list){console.log(list);setUserData(list);setIsLogined(true);});}});}var props={isLogined:isLogined,setIsLogined:setIsLogined,isLoading:isLoading,setIsLoading:setIsLoading,userData:userData,setUserData:setUserData,getUserData:getUserData};return/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[isLoading&&/*#__PURE__*/_jsx(\"div\",{className:styles.loading,children:/*#__PURE__*/_jsx(LoadingIcons.SpinningCircles,{})}),/*#__PURE__*/_jsxs(BrowserRouter,{children:[/*#__PURE__*/_jsx(Header,_objectSpread({},props)),/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(Home,_objectSpread({},props))}),/*#__PURE__*/_jsx(Route,{path:\"/login\",element:/*#__PURE__*/_jsx(Login,_objectSpread({},props))}),/*#__PURE__*/_jsx(Route,{path:\"/forums/:no\",element:/*#__PURE__*/_jsx(Detail,_objectSpread({},props))}),/*#__PURE__*/_jsx(Route,{path:\"/profile\",element:/*#__PURE__*/_jsx(Profile,_objectSpread({},props))}),/*#__PURE__*/_jsx(Route,{path:\"/signup\",element:/*#__PURE__*/_jsx(Signup,_objectSpread({},props))}),/*#__PURE__*/_jsx(Route,{path:\"/postcreate\",element:/*#__PURE__*/_jsx(PostCreate,_objectSpread({},props))})]})]})]});}export default App;","map":{"version":3,"sources":["C:/Users/mehr0/Documents/Dev/simpleforum/src/App.js"],"names":["Login","Home","Detail","Profile","Signup","Header","PostCreate","Route","Routes","BrowserRouter","useEffect","useState","LoadingIcons","styles","App","isLogined","setIsLogined","isLoading","setIsLoading","userData","setUserData","getUserData","fetch","method","headers","withCredentials","then","res","status","json","list","console","log","props","loading"],"mappings":"2PAAA,MAAOA,CAAAA,KAAP,KAAkB,SAAlB,CACA,MAAOC,CAAAA,IAAP,KAAiB,QAAjB,CACA,MAAOC,CAAAA,MAAP,KAAmB,UAAnB,CACA,MAAOC,CAAAA,OAAP,KAAoB,WAApB,CACA,MAAOC,CAAAA,MAAP,KAAmB,UAAnB,CACA,MAAOC,CAAAA,MAAP,KAAmB,UAAnB,CACA,MAAOC,CAAAA,UAAP,KAAuB,cAAvB,CACA,OAAQC,KAAR,CAAcC,MAAd,CAAsBC,aAAtB,KAA0C,kBAA1C,CACA,OAASC,SAAT,CAAoBC,QAApB,KAAoC,OAApC,CACA,MAAOC,CAAAA,YAAP,KAAyB,qBAAzB,CACA,MAAOC,CAAAA,MAAP,KAAmB,kBAAnB,C,wFAEA,QAASC,CAAAA,GAAT,EAAc,CACZ,cAAiCH,QAAQ,CAAC,KAAD,CAAzC,wCAAOI,SAAP,eAAiBC,YAAjB,eACA,eAAiCL,QAAQ,CAAC,KAAD,CAAzC,yCAAOM,SAAP,eAAiBC,YAAjB,eACA,eAA+BP,QAAQ,CAAC,EAAD,CAAvC,yCAAOQ,QAAP,eAAgBC,WAAhB,eAEA,QAASC,CAAAA,WAAT,EAAsB,CACpBC,KAAK,CAAC,UAAD,CAAY,CACfC,MAAM,CAAC,KADQ,CAEfC,OAAO,CAAC,CACNC,eAAe,CAAC,IADV,CAFO,CAAZ,CAAL,CAKGC,IALH,CAKS,SAAAC,GAAG,CAAI,CACd,GAAGA,GAAG,CAACC,MAAJ,GAAe,GAAlB,CAAsB,CACpBZ,YAAY,CAAC,KAAD,CAAZ,CACD,CAFD,IAEK,CACHW,GAAG,CAACE,IAAJ,GAAWH,IAAX,CAAgB,SAAAI,IAAI,CAAI,CACtBC,OAAO,CAACC,GAAR,CAAYF,IAAZ,EACAV,WAAW,CAACU,IAAD,CAAX,CACAd,YAAY,CAAC,IAAD,CAAZ,CACD,CAJD,EAKD,CACF,CAfD,EAgBD,CAED,GAAMiB,CAAAA,KAAK,CAAG,CAAClB,SAAS,CAATA,SAAD,CAAWC,YAAY,CAAZA,YAAX,CAAwBC,SAAS,CAATA,SAAxB,CAAkCC,YAAY,CAAZA,YAAlC,CAA+CC,QAAQ,CAARA,QAA/C,CAAwDC,WAAW,CAAXA,WAAxD,CAAoEC,WAAW,CAAXA,WAApE,CAAd,CAEA,mBACE,aAAK,SAAS,CAAC,KAAf,WACIJ,SAAS,eAAE,YAAK,SAAS,CAAEJ,MAAM,CAACqB,OAAvB,uBAAgC,KAAC,YAAD,CAAc,eAAd,IAAhC,EADf,cAEE,MAAC,aAAD,yBACA,KAAC,MAAD,kBAAYD,KAAZ,EADA,cAEE,MAAC,MAAD,yBACE,KAAC,KAAD,EAAO,IAAI,CAAC,GAAZ,CAAgB,OAAO,cAAE,KAAC,IAAD,kBAAUA,KAAV,EAAzB,EADF,cAEE,KAAC,KAAD,EAAO,IAAI,CAAC,QAAZ,CAAqB,OAAO,cAAE,KAAC,KAAD,kBAAWA,KAAX,EAA9B,EAFF,cAGE,KAAC,KAAD,EAAO,IAAI,CAAC,aAAZ,CAA0B,OAAO,cAAE,KAAC,MAAD,kBAAYA,KAAZ,EAAnC,EAHF,cAIE,KAAC,KAAD,EAAO,IAAI,CAAC,UAAZ,CAAuB,OAAO,cAAE,KAAC,OAAD,kBAAaA,KAAb,EAAhC,EAJF,cAKE,KAAC,KAAD,EAAO,IAAI,CAAC,SAAZ,CAAsB,OAAO,cAAE,KAAC,MAAD,kBAAYA,KAAZ,EAA/B,EALF,cAME,KAAC,KAAD,EAAO,IAAI,CAAC,aAAZ,CAA0B,OAAO,cAAE,KAAC,UAAD,kBAAgBA,KAAhB,EAAnC,EANF,GAFF,GAFF,GADF,CAgBD,CAED,cAAenB,CAAAA,GAAf","sourcesContent":["import Login from './Login';\nimport Home from './Home';\nimport Detail from './Detail';\nimport Profile from './Profile';\nimport Signup from './Signup';\nimport Header from './Header';\nimport PostCreate from './PostCreate';\nimport {Route,Routes, BrowserRouter} from 'react-router-dom'\nimport { useEffect, useState } from \"react\";\nimport LoadingIcons from 'react-loading-icons'\nimport styles from \"./App.module.css\";\n\nfunction App(){\n  const [isLogined,setIsLogined] = useState(false);\n  const [isLoading,setIsLoading] = useState(false);\n  const [userData,setUserData] = useState([]);\n\n  function getUserData(){\n    fetch('/profile',{\n      method:\"get\",\n      headers:{\n        withCredentials:true\n      }\n    }).then( res => {\n      if(res.status === 401){\n        setIsLogined(false);\n      }else{\n        res.json().then(list => {\n          console.log(list);\n          setUserData(list);\n          setIsLogined(true); \n        })\n      }\n    })\n  }\n\n  const props = {isLogined,setIsLogined,isLoading,setIsLoading,userData,setUserData,getUserData}\n\n  return (\n    <div className=\"App\">\n       {isLoading&&<div className={styles.loading}><LoadingIcons.SpinningCircles/></div>}\n      <BrowserRouter>\n      <Header {...props}/>\n        <Routes>\n          <Route path=\"/\" element={<Home {...props} />}/>\n          <Route path=\"/login\" element={<Login {...props}/>} />\n          <Route path=\"/forums/:no\" element={<Detail {...props}/>}/>\n          <Route path=\"/profile\" element={<Profile {...props}/>} />\n          <Route path=\"/signup\" element={<Signup {...props}/>} />\n          <Route path=\"/postcreate\" element={<PostCreate {...props}/>} />\n        </Routes>\n      </BrowserRouter>\n    </div>\n  );\n} \n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}