{"ast":null,"code":"import _slicedToArray from\"C:/Users/mehr0/Documents/Dev/simpleforum/hwryeol_simpleforum/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useEffect,useState}from\"react\";import{Navigate}from'react-router-dom';import styles from\"./profile.module.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Profile(_ref){var isLogined=_ref.isLogined;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),userData=_useState2[0],setUserData=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),isRedirect=_useState4[0],setIsRedirect=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),nickname=_useState6[0],setNickname=_useState6[1];useEffect(function(){fetch('/profile').then(function(data){data.json().then(function(data){setUserData(data);});});},[]);function confirmWrapper(func,msg){if(window.confirm(msg)){func();}}function sendWriter(){fetch('/profile',{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({nickname:nickname})}).then(function(response){return console.log(response);});setIsRedirect(true);}return/*#__PURE__*/_jsxs(\"div\",{className:styles.profile,children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"\\uC544\\uC774\\uB514:\",/*#__PURE__*/_jsx(\"input\",{value:userData.id||'',disabled:true})]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"\\uB2C9\\uB124\\uC784:\",/*#__PURE__*/_jsx(\"input\",{value:userData.nickname||'',disabled:true})]}),\"\\uB2C9\\uB124\\uC784 \\uBCC0\\uACBD:\",/*#__PURE__*/_jsx(\"input\",{onChange:function onChange(e){return setNickname(e.target.value);},value:nickname||''}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return confirmWrapper(sendWriter,\"닉네임을 변경하겠습니까?\");},children:\"\\uD074\\uB9AD\"}),isRedirect&&/*#__PURE__*/_jsx(Navigate,{to:\"/\"})]});}export default Profile;","map":{"version":3,"sources":["C:/Users/mehr0/Documents/Dev/simpleforum/hwryeol_simpleforum/src/Profile.js"],"names":["useEffect","useState","Navigate","styles","Profile","isLogined","userData","setUserData","isRedirect","setIsRedirect","nickname","setNickname","fetch","then","data","json","confirmWrapper","func","msg","window","confirm","sendWriter","method","headers","body","JSON","stringify","response","console","log","profile","id","e","target","value"],"mappings":"kJAAA,OAASA,SAAT,CAAmBC,QAAnB,KAAkC,OAAlC,CACA,OAASC,QAAT,KAAyB,kBAAzB,CACA,MAAOC,CAAAA,MAAP,KAAmB,sBAAnB,C,wFAEA,QAASC,CAAAA,OAAT,MAA8B,IAAZC,CAAAA,SAAY,MAAZA,SAAY,CAC1B,cAA+BJ,QAAQ,CAAC,EAAD,CAAvC,wCAAOK,QAAP,eAAgBC,WAAhB,eACA,eAAmCN,QAAQ,CAAC,KAAD,CAA3C,yCAAOO,UAAP,eAAkBC,aAAlB,eACA,eAA+BR,QAAQ,CAAC,EAAD,CAAvC,yCAAOS,QAAP,eAAgBC,WAAhB,eACAX,SAAS,CAAC,UAAI,CACVY,KAAK,CAAC,UAAD,CAAL,CAAkBC,IAAlB,CAAuB,SAAAC,IAAI,CAAI,CACvBA,IAAI,CAACC,IAAL,GAAYF,IAAZ,CAAiB,SAAAC,IAAI,CAAE,CACfP,WAAW,CAACO,IAAD,CAAX,CACH,CAFL,EAGH,CAJL,EAKH,CANQ,CAMP,EANO,CAAT,CASA,QAASE,CAAAA,cAAT,CAAwBC,IAAxB,CAA6BC,GAA7B,CAAiC,CAC/B,GAAGC,MAAM,CAACC,OAAP,CAAeF,GAAf,CAAH,CAAuB,CACrBD,IAAI,GACL,CACF,CAGD,QAASI,CAAAA,UAAT,EAAqB,CACnBT,KAAK,CAAC,UAAD,CAAY,CACfU,MAAM,CAAC,MADQ,CAEfC,OAAO,CAAC,CACN,eAAgB,kBADV,CAFO,CAKfC,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAe,CACnBhB,QAAQ,CAACA,QADU,CAAf,CALS,CAAZ,CAAL,CAQGG,IARH,CAQQ,SAACc,QAAD,QAAcC,CAAAA,OAAO,CAACC,GAAR,CAAYF,QAAZ,CAAd,EARR,EASAlB,aAAa,CAAC,IAAD,CAAb,CACD,CAED,mBACE,aAAK,SAAS,CAAEN,MAAM,CAAC2B,OAAvB,wBACI,wDAAO,cAAO,KAAK,CAAExB,QAAQ,CAACyB,EAAT,EAAa,EAA3B,CAA+B,QAAQ,KAAvC,EAAP,GADJ,cAEI,wDAAO,cAAO,KAAK,CAAEzB,QAAQ,CAACI,QAAT,EAAmB,EAAjC,CAAqC,QAAQ,KAA7C,EAAP,GAFJ,iDAGW,cAAO,QAAQ,CAAE,kBAAAsB,CAAC,QAAErB,CAAAA,WAAW,CAACqB,CAAC,CAACC,MAAF,CAASC,KAAV,CAAb,EAAlB,CAAiD,KAAK,CAAExB,QAAQ,EAAE,EAAlE,EAHX,cAII,eAAQ,OAAO,CAAE,yBAAIM,CAAAA,cAAc,CAACK,UAAD,CAAY,eAAZ,CAAlB,EAAjB,0BAJJ,CAKKb,UAAU,eAAE,KAAC,QAAD,EAAU,EAAE,CAAC,GAAb,EALjB,GADF,CASD,CAED,cAAeJ,CAAAA,OAAf","sourcesContent":["import { useEffect,useState} from \"react\";\r\nimport { Navigate } from 'react-router-dom'\r\nimport styles from \"./profile.module.css\"\r\n\r\nfunction Profile({isLogined}) {\r\n    const [userData,setUserData] = useState([]);\r\n    const [isRedirect,setIsRedirect] = useState(false);\r\n    const [nickname,setNickname] = useState(\"\");\r\n    useEffect(()=>{\r\n        fetch('/profile').then(data => {\r\n                data.json().then(data=>{\r\n                        setUserData(data);\r\n                    })\r\n            })\r\n    },[])\r\n\r\n\r\n    function confirmWrapper(func,msg){\r\n      if(window.confirm(msg)){\r\n        func();\r\n      }\r\n    }\r\n\r\n\r\n    function sendWriter(){\r\n      fetch('/profile',{\r\n        method:\"POST\",\r\n        headers:{\r\n          \"Content-Type\": \"application/json\"\r\n        },\r\n        body: JSON.stringify({\r\n          nickname:nickname\r\n        })\r\n      }).then((response) => console.log(response));\r\n      setIsRedirect(true);\r\n    }\r\n\r\n    return (\r\n      <div className={styles.profile}>\r\n          <p>아이디:<input value={userData.id||''} disabled/></p>\r\n          <p>닉네임:<input value={userData.nickname||''} disabled/></p>\r\n          닉네임 변경:<input onChange={e=>setNickname(e.target.value)} value={nickname||''}/>\r\n          <button onClick={()=>confirmWrapper(sendWriter,\"닉네임을 변경하겠습니까?\")}>클릭</button>\r\n          {isRedirect&&<Navigate to=\"/\"/>}\r\n      </div>\r\n    );\r\n  }\r\n  \r\n  export default Profile;\r\n  "]},"metadata":{},"sourceType":"module"}